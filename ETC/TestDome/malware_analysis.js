function simulate(entries) {
    const malwareIndex = [];
    entries.forEach((element, index) => {
        const T1 = index - 3 >= 0 ? Number(entries[index - 3]) : null;
        const Tr = index + 4 <= entries.length - 1 ? Number(entries[index + 4]) : null;

        if ((T1 !== null && T1 >= Number(element)) || (Tr !== null && Tr >= Number(element))) {
            malwareIndex.push(index);
        }
    });

    malwareIndex.forEach((index) => {
        entries[index] = 0;
    });

    return entries;
}

const records = [1, 2, 0, 5, 0, 2, 4, 3, 3, 3];
console.log(simulate(records));
